<div>
  <h1>Listing Employees From API</h1>
  <br/>  
 

 <a href="<%= new_consumerapi_path %>">New Employee</a>


  <% if @employees.present? %>
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Department</th>
          <th>Salary</th>
          <th>Country</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>
        <% @employees.each do |employee| %>
          <tr>
            <td><%= employee["id"] %></td>
            <td><%= employee["firstname"] %></td>
            <td><%= employee["lastname"] %></td>
            <td><%= employee["department"]["name"] %></td>
            <td><%= employee["salary"] %></td>            
            <td><%= employee["country"]["name"] %></td>    
              <td>
              <%= link_to "Details", consumerapi_path(employee["id"]) %> | 
              <%= link_to "Edit", edit_consumerapi_path(employee["id"]) %> | 
               <%= link_to "Delete", consumerapi_path(employee["id"]), 
               method: :delete, 
              data: { confirm: 'Are you sure?', turbo: false } %>
              </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% elsif @error.present? %>
    <h6 class="text-danger"><%= @error %></h6>
  <% else %>
    <p> No data available </p>
  <% end %>
</div>